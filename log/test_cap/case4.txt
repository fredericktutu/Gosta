# Name: main.main
# Package: main
# Location: testcase/test_cap/case4.go:19:6
func main():
0:                                                                entry P:0 S:0
	t0 = make chan int 2:int                                       chan int
	t1 = make chan int 1:int                                       chan int
	send t0 <- 1:int
	send t0 <- 1:int
	send t1 <- 1:int
	go A(t0, t1)
	send t0 <- 1:int
	t2 = <-t0                                                           int
	return

<->
[bb]: 0
    <instr> 0 MAKECHAN | make chan int 2:int
        (size) 2:int
        (reg) t0
    <instr> 1 MAKECHAN | make chan int 1:int
        (size) 1:int
        (reg) t1
    <instr> 2 SEND | To Reg: t0 | Actually is Chan 0
    <instr> 3 SEND | To Reg: t0 | Actually is Chan 0
    <instr> 4 SEND | To Reg: t1 | Actually is Chan 1
    <instr> 5 GO | Func name: A | Args:
        (param) 0 | Name: t0 | Type: chan int | Actually is Chan 0
        (param) 1 | Name: t1 | Type: chan int | Actually is Chan 1
    <instr> 6 SEND | To Reg: t0 | Actually is Chan 0
    <instr> 7 RECV | From Reg: t0 | Actually is Chan 0
    <instr> 8 other
[bb] 0 's states:
<state> 0
<state> 1
<state> 2
<state> 3
<state> 4
<state> 5
[bb] 0 's edges:
---

<->
[bb] 0 begin link state
-------------------------
# Name: main.A
# Package: main
# Location: testcase/test_cap/case4.go:10:6
func A(ch1 chan int, ch2 chan int):
0:                                                                entry P:0 S:0
	t0 = <-ch2                                                          int
	t1 = <-ch1                                                          int
	t2 = <-ch1                                                          int
	t3 = <-ch1                                                          int
	return

<->
[Parameters]
    <Param> -1 |Reg: ch1
    <Param> -2 |Reg: ch2
---
[bb]: 0
    <instr> 0 RECV | From Reg: ch2 | Actually is Chan -2
    <instr> 1 RECV | From Reg: ch1 | Actually is Chan -1
    <instr> 2 RECV | From Reg: ch1 | Actually is Chan -1
    <instr> 3 RECV | From Reg: ch1 | Actually is Chan -1
    <instr> 4 other
[bb] 0 's states:
<state> 0
<state> 1
<state> 2
<state> 3
<state> 4
[bb] 0 's edges:
---

<->
[bb] 0 begin link state
-------------------------
Static Program after build:
 &{[0xc0001871c0 0xc000187220] [{0 2 } {1 1 }] 1 11}

*****Begin Execution*****
[Do Action] ActionType 0 | On Goroutine 0 | ToState {0 0} |ChanID 0 |Chan now 0
[Analyze Edges] RGoroutine 0 |At State &{{0 0} [] [] [0xc000190150] 2}
    <Edge> 0 | To {0 1} | Op 0 |On Chan 0
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {1 0 0 {0 1} 0 {0 0} 1 0 [] []}
[Do Action] ActionType 1 | On Goroutine 0 | ToState {0 1} |ChanID 0 |Chan now 0
[Analyze Edges] RGoroutine 0 |At State &{{0 1} [] [0xc000190150] [0xc000190180] 2}
    <Edge> 0 | To {0 2} | Op 0 |On Chan 0
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {2 0 0 {0 2} 0 {0 0} 1 0 [] []}
[Do Action] ActionType 1 | On Goroutine 0 | ToState {0 2} |ChanID 0 |Chan now 1
[Analyze Edges] RGoroutine 0 |At State &{{0 2} [] [0xc000190180] [0xc0001901b0] 2}
    <Edge> 0 | To {0 3} | Op 0 |On Chan 1
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {3 0 0 {0 3} 0 {0 0} 1 1 [0xc000183ce0] []}
[Do Action] ActionType 1 | On Goroutine 0 | ToState {0 3} |ChanID 1 |Chan now 0
    <Go func> 1
    <Binding> [0 1]
[Analyze Edges] RGoroutine 0 |At State &{{0 3} [0xc000183ce0] [0xc0001901b0] [0xc0001901e0] 2}
    <Edge> 0 | To {0 4} | Op 0 |On Chan 0
[Analyze Edges] RGoroutine 1 |At State &{{1 0} [] [] [0xc000190240] 2}
    <Edge> 0 | To {1 1} | Op 1 |On Chan -2
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {4 0 1 {1 1} 1 {0 0} 2 1 [] []}
[Do Action] ActionType 2 | On Goroutine 1 | ToState {1 1} |ChanID 1 |Chan now 1
[Analyze Edges] RGoroutine 0 |At State &{{0 3} [0xc000183ce0] [0xc0001901b0] [0xc0001901e0] 2}
    <Edge> 0 | To {0 4} | Op 0 |On Chan 0
[Analyze Edges] RGoroutine 1 |At State &{{1 1} [] [0xc000190240] [0xc000190270] 2}
    <Edge> 0 | To {1 2} | Op 1 |On Chan -1
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {5 0 1 {1 2} 1 {0 0} 2 0 [] []}
[Do Action] ActionType 2 | On Goroutine 1 | ToState {1 2} |ChanID 0 |Chan now 2
[Analyze Edges] RGoroutine 0 |At State &{{0 3} [0xc000183ce0] [0xc0001901b0] [0xc0001901e0] 2}
    <Edge> 0 | To {0 4} | Op 0 |On Chan 0
[Analyze Edges] RGoroutine 1 |At State &{{1 2} [] [0xc000190270] [0xc0001902a0] 2}
    <Edge> 0 | To {1 3} | Op 1 |On Chan -1
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {6 0 0 {0 4} 0 {0 0} 1 0 [] []}
<action> 1 {6 0 1 {1 3} 1 {0 0} 2 0 [] []}
[Do Action] ActionType 1 | On Goroutine 0 | ToState {0 4} |ChanID 0 |Chan now 1
[Analyze Edges] RGoroutine 0 |At State &{{0 4} [] [0xc0001901e0] [0xc000190210] 2}
    <Edge> 0 | To {0 5} | Op 1 |On Chan 0
[Analyze Edges] RGoroutine 1 |At State &{{1 2} [] [0xc000190270] [0xc0001902a0] 2}
    <Edge> 0 | To {1 3} | Op 1 |On Chan -1
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {7 0 0 {0 5} 0 {0 0} 2 0 [] []}
<action> 1 {7 0 1 {1 3} 1 {0 0} 2 0 [] []}
[Do Action] ActionType 2 | On Goroutine 0 | ToState {0 5} |ChanID 0 |Chan now 2
[Execute SUCC]
[Undo Action] ActionType 2 | On Goroutine 0 | ToState {0 5} |ChanID 0 |Chan now 1
[Do Action] ActionType 2 | On Goroutine 1 | ToState {1 3} |ChanID 0 |Chan now 2
[Analyze Edges] RGoroutine 0 |At State &{{0 4} [] [0xc0001901e0] [0xc000190210] 2}
    <Edge> 0 | To {0 5} | Op 1 |On Chan 0
[Analyze Edges] RGoroutine 1 |At State &{{1 3} [] [0xc0001902a0] [0xc0001902d0] 2}
    <Edge> 0 | To {1 4} | Op 1 |On Chan -1
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {8 0 0 {0 5} 0 {0 0} 2 0 [] []}
<action> 1 {8 0 1 {1 4} 1 {0 0} 2 0 [] []}
[Do Action] ActionType 2 | On Goroutine 0 | ToState {0 5} |ChanID 0 |Chan now 1
[Execute SUCC]
[Undo Action] ActionType 2 | On Goroutine 0 | ToState {0 5} |ChanID 0 |Chan now 0
[Do Action] ActionType 2 | On Goroutine 1 | ToState {1 4} |ChanID 0 |Chan now 1
[Analyze Edges] RGoroutine 0 |At State &{{0 4} [] [0xc0001901e0] [0xc000190210] 2}
    <Edge> 0 | To {0 5} | Op 1 |On Chan 0
[singleSends] map[] [singleRecvs] map[]
[available actions]:
[ERROR] goroutine deadlock!
[Undo Action] ActionType 2 | On Goroutine 1 | ToState {1 4} |ChanID 0 |Chan now 0
[Undo Action] ActionType 2 | On Goroutine 1 | ToState {1 3} |ChanID 0 |Chan now 1
[Undo Action] ActionType 1 | On Goroutine 0 | ToState {0 4} |ChanID 0 |Chan now 2
[Do Action] ActionType 2 | On Goroutine 1 | ToState {1 3} |ChanID 0 |Chan now 1
[Analyze Edges] RGoroutine 0 |At State &{{0 3} [0xc000183ce0] [0xc0001901b0] [0xc0001901e0] 2}
    <Edge> 0 | To {0 4} | Op 0 |On Chan 0
[Analyze Edges] RGoroutine 1 |At State &{{1 3} [] [0xc0001902a0] [0xc0001902d0] 2}
    <Edge> 0 | To {1 4} | Op 1 |On Chan -1
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {7 0 0 {0 4} 0 {0 0} 1 0 [] []}
[Do Action] ActionType 1 | On Goroutine 0 | ToState {0 4} |ChanID 0 |Chan now 0
[Analyze Edges] RGoroutine 0 |At State &{{0 4} [] [0xc0001901e0] [0xc000190210] 2}
    <Edge> 0 | To {0 5} | Op 1 |On Chan 0
[Analyze Edges] RGoroutine 1 |At State &{{1 3} [] [0xc0001902a0] [0xc0001902d0] 2}
    <Edge> 0 | To {1 4} | Op 1 |On Chan -1
[singleSends] map[] [singleRecvs] map[]
[available actions]:
<action> 0 {8 0 0 {0 5} 0 {0 0} 2 0 [] []}
<action> 1 {8 0 1 {1 4} 1 {0 0} 2 0 [] []}
[Do Action] ActionType 2 | On Goroutine 0 | ToState {0 5} |ChanID 0 |Chan now 1
[Execute SUCC]
[Undo Action] ActionType 2 | On Goroutine 0 | ToState {0 5} |ChanID 0 |Chan now 0
[Do Action] ActionType 2 | On Goroutine 1 | ToState {1 4} |ChanID 0 |Chan now 1
[Analyze Edges] RGoroutine 0 |At State &{{0 4} [] [0xc0001901e0] [0xc000190210] 2}
    <Edge> 0 | To {0 5} | Op 1 |On Chan 0
[singleSends] map[] [singleRecvs] map[]
[available actions]:
[ERROR] goroutine deadlock!
[Undo Action] ActionType 2 | On Goroutine 1 | ToState {1 4} |ChanID 0 |Chan now 0
[Undo Action] ActionType 1 | On Goroutine 0 | ToState {0 4} |ChanID 0 |Chan now 1
[Undo Action] ActionType 2 | On Goroutine 1 | ToState {1 3} |ChanID 0 |Chan now 0
[Undo Action] ActionType 2 | On Goroutine 1 | ToState {1 2} |ChanID 0 |Chan now 1
[Undo Action] ActionType 2 | On Goroutine 1 | ToState {1 1} |ChanID 1 |Chan now 0
[Undo Action] ActionType 1 | On Goroutine 0 | ToState {0 3} |ChanID 1 |Chan now 1
[Undo Action] ActionType 1 | On Goroutine 0 | ToState {0 2} |ChanID 0 |Chan now 2
[Undo Action] ActionType 1 | On Goroutine 0 | ToState {0 1} |ChanID 0 |Chan now 1
*****End Execution*****

---REPORT---
Detected 2 BUGs in [ testcase/test_cap/case4.go ].
Generate 11 STATEs in total.
Execute 5 PATHs in total
-----------
